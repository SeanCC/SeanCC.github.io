<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Crime Lab New York Intership: Post-Mortem" />
<meta property="og:description" content="I spent this past summer in New York City, interning for an amazing organization: Crime Lab New York, a member of the University of Chicago&rsquo;s Urban Labs system. I got to spend a lot of time learning about a lot of things that I had, frankly, never even thought to think about!
Given just how much I&rsquo;ve learned this summer, I thought it might be beneficial to myself (and whomever might come across this blog/portfolio) to do a post-mortem of my time at CLNY." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2019/09/crime-lab-new-york-intership-post-mortem/" />
<meta property="article:published_time" content="2019-09-07T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-09-07T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Crime Lab New York Intership: Post-Mortem"/>
<meta name="twitter:description" content="I spent this past summer in New York City, interning for an amazing organization: Crime Lab New York, a member of the University of Chicago&rsquo;s Urban Labs system. I got to spend a lot of time learning about a lot of things that I had, frankly, never even thought to think about!
Given just how much I&rsquo;ve learned this summer, I thought it might be beneficial to myself (and whomever might come across this blog/portfolio) to do a post-mortem of my time at CLNY."/>



    <link rel="canonical" href="/2019/09/crime-lab-new-york-intership-post-mortem/">

    <title>
      
        Crime Lab New York Intership: Post-Mortem | Charlie&#39;s Portfolio &amp; Blog
      
    </title>

    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="css/style.css" rel="stylesheet">

    

    

    
  </head>
  <body>
    
      <header class="blog-header">
    <nav class="navbar navbar-expand-md navbar-light bg-light">
        <a class="navbar-brand" href="/">
            <img src="https://getbootstrap.com/docs/4.1/assets/brand/bootstrap-solid.svg" width="30" height="30" class="d-inline-block align-top"
    alt="">
Charlie&#39;s Portfolio &amp; Blog
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-between" id="navbarNav">
            <ul class="navbar-nav">
                
                
                <li class="nav-item ">
                    
                        <a class="nav-link" href="/">Home</a>
                    
                </li>
                
                <li class="nav-item ">
                    
                        <a class="nav-link" href="/about/">About</a>
                    
                </li>
                
                <li class="nav-item ">
                    
                        <a class="nav-link" href="/contact/">Contact</a>
                    
                </li>
                
            </ul>
            
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Language
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                        
                            <a class="dropdown-item" href="/">English</a>
                        
                            <a class="dropdown-item" href="/de/">Deutsch</a>
                        
                            <a class="dropdown-item" href="/es/">Espa√±ol</a>
                        
                    </div>
                </li>
            </ul>
            
        </div>
    </nav>
</header>
    

    
    <div class="container">
      <div class="row">
        <div class="col-12 col-lg-8 blog-main">

          

<header>
    <h2 class="blog-post-title">
        <a class="text-dark" href="/2019/09/crime-lab-new-york-intership-post-mortem/">Crime Lab New York Intership: Post-Mortem</a>
    </h2>
    


<div class="blog-post-date text-secondary">
    
        Sep 7, 2019
    
    
        by <span rel="author">Sean Carter</span>
    
</div>

    
<div class="blog-post-tags text-secondary">
    <strong>Tags:</strong>
    
        <a class="badge badge-primary" href="/tags/internship">internship</a>
    
        <a class="badge badge-primary" href="/tags/experience">experience</a>
    
        <a class="badge badge-primary" href="/tags/post-mortem">post-mortem</a>
    
</div>

    
<div class="blog-post-categories text-secondary">
    <strong>Categories:</strong>
    
        <a class="badge badge-primary" href="/categories/articles">Articles</a>
    
</div>

    <hr>
</header>
<article class="blog-post">
    

<p>I spent this past summer in New York City, interning for an amazing organization: <a href="https://urbanlabs.uchicago.edu/labs/crime-new-york">Crime Lab New York</a>, a member of the University of Chicago&rsquo;s <a href="https://urbanlabs.uchicago.edu/">Urban Labs system</a>. I got to spend a lot of time learning about a lot of things that I had, frankly, never even thought to think about!</p>

<p>Given just how much I&rsquo;ve learned this summer, I thought it might be beneficial to myself (and whomever might come across this blog/portfolio) to do a post-mortem of my time at CLNY. So, without further ado, let&rsquo;s begin!</p>

<h2 id="a-brief-vague-summary-of-my-work">A brief, vague summary of my work</h2>

<p>During my internship, I worked on two major projects, of which I split my time about <sup>50</sup>&frasl;<sub>50</sub>.</p>

<p>The first was an internal toolset for generating features on the sorts of datasets that CLNY often handled - records of incidents over time. Many projects at CLNY involved generating time based features across large sets of records, and it was decided that a lot of time could be saved and errors prevented if the various projects in the lab all used the same toolset for doing this task rather than reinventing the wheel every time.</p>

<p>The second was a predictive modeling project using police records. The goal of the project was to predict revictimization in certain subsets of incident types, with the end product hopefully being used to guide decisions in allocating resources. This project also served as a testing ground for the toolset that I was building.</p>

<h2 id="lessons-learned">Lessons learned:</h2>

<p><strong>Feature generation is a skill, and a very valuable one</strong></p>

<p>Prior to this internship, I had worked with a fair bit of data over the course of my Master&rsquo;s as well as at Sagicor Life Insurance. However, almost all of the work that I did used the features already present in the dataset, with maybe a little bit of feature generation.</p>

<p>Reading numerous professional data science and statistics blogs and articles, you&rsquo;ll undoubtedly read a lot about how important feature generation is. What I didn&rsquo;t read a lot about was how, exactly, to carry out generation of features, and what questions you should be asking yourself in the feature generation process.</p>

<p>Feature generation is fundamentally about interrogating your dataset. It&rsquo;s vital for building a predictive model, but thinking about the predictive model as the end goal at this step can be a little bit misleading. The focus here should be <em>&ldquo;what questions can we ask about this data?&rdquo;</em></p>

<p>Often, you want to have an idea of what sort of overall question you want to answer <em>before</em> you seek out a dataset. But once you have the dataset, there&rsquo;s several classes of questions you can ask about your dataset, guided by your original query. Some of these include:</p>

<ul>
<li>How many times has an event of this sort happened before?</li>
<li>How long has it been since the last time an event of this sort happened?</li>
<li>How many of this type of object are present in the dataset?</li>
<li>How many relationships does this object have with other objects?</li>
<li>Does this object have a relationship of type X with another object in the dataset?</li>
<li>Can this record be classified in a way that isn&rsquo;t built into the dataset?</li>
<li>What&rsquo;s the minimum/maximum value that this objective achieved in column X?</li>
</ul>

<p>There&rsquo;s countless queries of this type that can be asked of a dataset. The type of data that you have will very much affect what questions you can ask - obviously, you&rsquo;d be asking entirely different questions about image data or sound data. The point is, the data we have usually has a great deal more information embedded in it than is immediately apparent from the set of columns presented to us. To access that information, we have to do some work.</p>

<p><strong>Any one dataset or set of datasets can be used to make predictions at a variety of levels</strong></p>

<p>This seems like a really simple and obvious idea, but it&rsquo;s not one that I&rsquo;ve seen verbalized very much. Another way of putting it is that data is almost never about <em>just one thing</em>. A dataset consisting of arrests is also a dataset consisting of victims, offenders, arresting officers, locations, et cetera - and it can be transformed to represent such, often with relative ease.</p>

<p>At CLNY, analysts frequently work with massive tables of records at varying levels. Tables might be at the victim level (i.e. each row is a victim), the incident level, the arrest level, the offender level, et cetera. One of the first steps in building a model is defining what level we&rsquo;re doing predictions at (e.g. do we want to make predictions on the victim, the offender, the incident, a locale, et cetera), and then generating features and outcomes for that level from the various tables available to us.</p>

<p>For instance, say we&rsquo;re working with motor vehicle collision data, where each row is a traffic incident. We might want to make predictions at the street level - e.g. do we expect that there will be an accident on this street in the next year? We might want to make predictions at the person level - e.g. how high of a traffic risk is this person? We might want to make predictions at the vehicle type level - e.g. how dangerous is this vehicle on the road? Deciding what level we&rsquo;re making predictions at will profoundly affect the features we generate and the type of model we build.</p>

<p>Any time you&rsquo;re working with a dataset, a valuable question to ask is <em>&ldquo;what other information/prediction levels can I transform this data into?&rdquo;</em></p>

<p><strong>Organizing early and organizing consistently can be your best friend</strong></p>

<p>Prior to working at CLNY, I had only used git in passing (mostly to host things on github), had never touched a makefile, and had only rarely thought about the organizational structure of my projects. I was a stickler about organizing my code <em>inside code files</em> - but very bad at organizing the files themselves!</p>

<p>My first day at CLNY, I was provided with a slew of materials to read and watch for how to properly manage a data science project. These proved invaluable, and the techniques I learned here I&rsquo;ve since implemented in all of my personal projects.</p>

<p>A major issue that I have had with projects in the past was that what I was working on would generally accumulate technical complexity, until eventually a point was reached where any time I wanted to pick up working on the project, I&rsquo;d have to spend time figuring out where I left off and what I had done previously just to keep going. This barrier would sometimes lead to me avoiding working on projects for long periods of time - it took so much energy just to get back to making progress that I never felt up to continuing.</p>

<p>Organization fixes this problem almost entirely. Separating every major step of your project out into its own files and folders, with well defined relations, makes building on the project later profoundly easier. It should be possible to look at the file structure of your project and know more or less immediately what the steps in your data science pipeline are. You may not know the technical details of every step, but you know <em>what</em> is going on without having to open up code files and read.</p>

<p>I learned a lot from <a href="https://www.youtube.com/watch?v=ZSunU9GQdcI">this talk by Dr. Patrick Ball</a>, and I think it serves as a pretty solid introduction to organizational principles for data science pipelines.</p>

<h2 id="some-mistakes-i-made">Some mistakes I made:</h2>

<p>I found that I was very rarely lacking in the &ldquo;statistics knowledge&rdquo; department, and my knowledge of how to code things was sufficient for the most part, but domain knowledge for working with data was lacking, as was knowledge of how to manage a project that is expected to be handled by multiple people over the long term.</p>

<p><strong>Table operations such as melting and groupbys are absolutely invaluable, and it took me a long time to really use them effectively.</strong></p>

<p>In my master&rsquo;s coursework and my previous roles, I rarely had to do complex transformational table operations. My previous role had me doing a lot of work in SQL that involved pulled data from a variety of tables, but I didn&rsquo;t often have to transform the resulting datasets.</p>

<p>Operations like melting, groupbys, and pivoting (in <em>pandas</em> - they may go by other names in different frameworks) are generally much faster than any iterative structure for accomplishing the same goals. While <em>apply</em> and its ilk are generally gonna be faster than using a <em>for</em> loop, it&rsquo;ll always be better to melt, group, or pivot to get what you need if at all possible.</p>

<p>I&rsquo;ve been reworking an old project and cleaning it up for my portfolio. I found that a lot of the work that I did previously on this project was extremely inefficient, simply because I didn&rsquo;t even know about the melting and groupby operations. Using these operations for feature and outcome generation on other projects has significantly sped up the data science pipelines I&rsquo;ve created.</p>

<p><strong>I should have spent more time understanding the code base I was working with early on</strong></p>

<p>The project that I worked on had been started as a &ldquo;proof of concept&rdquo; level by other employees at CLNY before being handed off to me. I was very eager to get to work and to start producing results of my own - so I started building on top of what they had given me immediately. This didn&rsquo;t turn out horribly, but I ran into a few technical issues later on that I could easily have avoided had I spent more time understanding the problems that my predecessors had already run into and how they had overcome them.</p>

<p>I made this mistake due to a couple issues with my mindset. For one - I was a little overconfident in my coding abilities and had started from an assumption that I could produce something amazing basically right away. It&rsquo;s hard to overstate how many little details are in any major technical project that can make it take a lot longer than initially expected. Being in a rush just makes you miss those details. Two, I assumed that the code that had been written by the people before me was perfect as it was, and I was very hesitant to go back and rework anything that someone else had written. This was a bad mindset, simply because the people who started the project could not have anticipated what obstacles I&rsquo;d run into later on, and therefore could not have accounted for them in their code.</p>

<p><strong>I should have spent more time thinking about the data I was using in my project early on</strong></p>

<p>This is closely related to #2. In particular, the data that I was working with was spread across several large datasets. My predecessors had already done a lot of the work required to merge these datasets together to generate features on and carry out prediction tasks. Unfortunately, I simply assumed that this part was &ldquo;done&rdquo;.</p>

<p>Well past the halfway mark at my internship, I started to realize that a lot of my technical issues on the project came down to the fact that I didn&rsquo;t truly understand the level my dataset was at. Put simply, the dataset was supposed to represent crime incidents. We might have expected that every row of the dataset was unique at the (Offender_ID, Victim_ID, Incident_ID) level. However, upon closer examination, this wasn&rsquo;t true and there wasn&rsquo;t any small subset of columns over which the dataset lacked duplicates - i.e. it didn&rsquo;t have a well defined &ldquo;level&rdquo;, making it hard to carry out predictions.</p>

<p>Fixing this problem involved going back and examining the ways the data was originally loaded and merged (see #2), then modifying it and carrying out a lot of deduplication and data cleaning to get the dataset to a single level.</p>

<p>Doing this work ultimately sped up my productivity a great deal. But a lot of time was wasted prior to this just because I hadn&rsquo;t spent adequate time early on understanding my data and the work done before I came onboard.</p>

<h2 id="some-things-i-did-right">Some things I did right:</h2>

<p>The biggest thing that I feel I did right was treating this internship as a time to learn and a time to experiment. This was my first time spending months outside of my home state, as well as my first time working for an organization conducting research and actually getting paid for it. I tried out a lot of stuff while here, and I tried to remain open to feedback.</p>

<p>I think the biggest assets that I brought to the table at CLNY were that I showed up already having a lot of programming experience and I had a more than adequate education in statistical theory. I didn&rsquo;t have to be taught how to write functions, use pandas, use git, use bash and linux, et cetera, nor did anyone have to explain what a random forest or a logistic regression were. I&rsquo;m very happy with the skillset that I came to CLNY already having. I felt like I was capable of competently having discussions about and contributing ideas to the various aspects of building a model.</p>

<p>I wish that I had had fewer occasions where I <em>needed</em> to ask questions of my coworkers, but recognizing that this was a very welcoming environment for that sort of thing, I&rsquo;m glad that I took as many opportunities as I could to learn from the people around me. I was surrounded at CLNY by extremely intelligent, extremely skilled, and extremely well educated people. It would have been a shame if I hadn&rsquo;t learned anything from them.</p>

<h2 id="some-things-that-clny-did-right">Some things that CLNY did right:</h2>

<p>I was very often surprised at CLNY by the degree of flexibility afforded to me and other employees and the laidback atmosphere. The lab has an open office plan, a kitchen, two conference rooms, and a couple of private offices. People often held conversations intermittently, I frequently saw people going to whiteboards to work out problems, people frequently ate extended lunches together, and people frequently came and went from the office or went to different parts of the office to work. Scheduling seemed relatively loose, and I had a lot of freedom to determine where I needed to focus my efforts and how best to get my work done. All of this made for a very comfortable work environment. My understanding is that a lot of these things are relatively normal in some organizations, but it hasn&rsquo;t been normal in my experience thus far.</p>

<p>I do think that this environment worked specifically because the managers/research directors <em>made</em> it work. Here&rsquo;s what I mean:
1. Many projects, including mine, had weekly check-ins where at least two or three other people were updated as to your progress. My manager rarely looked at my work directly - another coworker conducted code reviews for me (and I will be forever grateful for her many suggestions!) - but he was regularly updated on my progress.<br />
2. Code reviews happened regularly, and were facilitated by CLNY&rsquo;s internal gitlab. I could have as many conversations and long lunches as I wanted - but at the end of the day, it would be plainly obvious to multiple people if I wasn&rsquo;t getting work done, because there wouldn&rsquo;t be commits.<br />
3. The environment was very academic. While people frequently conversed, they were frequently conversing about topics related to work. I went to lunch with one of my coworkers several times a week, but those lunch times often felt profoundly productive, because we were discussing statistics, economics, coding, and data science. The lab frequently brought in outside speakers to give a talk over our lunch breaks as well, further facilitating an academic environment.</p>

<p>All of this is to say, CLNY created an environment where it was easy to be relaxed <em>and</em> productive. A direct consequence of this is that it was an environment where it was easy to <em>learn</em>.</p>

<h2 id="last-thoughts">Last thoughts:</h2>

<p>I can honestly say that this summer has been one of the most productive times of my life. During my master&rsquo;s coursework, I would not have guessed at the sort of obstacles that I ran into while working on my projects this summer. As a result, I&rsquo;ve learned a lot during my time here.</p>

<p>An unfortunate effect of the way that a lot of academic programs in data science and statistics work is that students are rarely put up against anything resembling the kind of problems they&rsquo;ll face in real world projects. I learned a lot about linear models, hypothesis testing, mathematical statistics, probability theory, et cetera, during my master&rsquo;s, but very little about how to manage data.</p>

<p>This sort of makes sense - a work environment seems a bad place to have to learn the linear algebra underpinning regression models or how random variables work or what a Markov Chain is. I do think more could be done to give students opportunities to face these sorts of obstacles prior to entering the workforce however. There is an abundance of real world data that&rsquo;s easily accesible and which could very easily be used for teaching some of the skills that I lacked going into my internship.</p>

<p>I&rsquo;ve been fortunate in my career thus far to consistently have awesome coworkers and mentors. I&rsquo;ve received a lot of advice and been pointed towards a lot of very interesting material (some of which I hope to be sharing on this blog in the near future) by my coworkers and my supervisor. I&rsquo;ve also been fortunate that my coworkers have been very forgiving - they&rsquo;ve been privy to all of my many technical mistakes, and have always treated them as learning opportunities. I&rsquo;ve been in environments where that was not the culture, and I can say that this way of doing things is much better. In general, a mistake should be something you learn from, not something you&rsquo;re ashamed of.</p>

<p>Thanks for reading!</p>


    

    


</article>



        </div>

        <aside class="col-12 col-lg-3 ml-auto blog-sidebar">
    
        


<section>
    <h4>Recent Posts</h4>
    <ol class="list-unstyled">
        
        <li>
            <a href="/post/">Posts</a>
        </li>
        
        <li>
            <a href="/2019/09/visualizing-nyc-department-of-corrections-daily-inmate-records/">Visualizing NYC Department of Corrections Daily Inmate Records</a>
        </li>
        
        <li>
            <a href="/2019/09/crime-lab-new-york-intership-post-mortem/">Crime Lab New York Intership: Post-Mortem</a>
        </li>
        
        <li>
            <a href="/1/01/a-quick-dd-experiment/">A Quick D&amp;D Experiment</a>
        </li>
        
        <li>
            <a href="/1/01/an-analysis-of-the-competitive-lifetime-of-powerlifters/">An Analysis of the Competitive Lifetime of Powerlifters</a>
        </li>
        
    </ol>
</section>

    
    
        <section>
    
        
    
        
        <h4>Categories</h4>
        <p>
            
            <a class="badge badge-primary" href="/categories/articles">articles</a>
            
            <a class="badge badge-primary" href="/categories/projects">projects</a>
            
        </p>
        
    
        
        <h4>Tags</h4>
        <p>
            
            <a class="badge badge-primary" href="/tags/algorithms">algorithms</a>
            
            <a class="badge badge-primary" href="/tags/crime-data">crime-data</a>
            
            <a class="badge badge-primary" href="/tags/dd">dd</a>
            
            <a class="badge badge-primary" href="/tags/experience">experience</a>
            
            <a class="badge badge-primary" href="/tags/internship">internship</a>
            
            <a class="badge badge-primary" href="/tags/open-data">open-data</a>
            
            <a class="badge badge-primary" href="/tags/post-mortem">post-mortem</a>
            
            <a class="badge badge-primary" href="/tags/projects">projects</a>
            
            <a class="badge badge-primary" href="/tags/quickie">quickie</a>
            
            <a class="badge badge-primary" href="/tags/random-graphs">random-graphs</a>
            
            <a class="badge badge-primary" href="/tags/random-walks">random-walks</a>
            
            <a class="badge badge-primary" href="/tags/simulation">simulation</a>
            
            <a class="badge badge-primary" href="/tags/sports">sports</a>
            
            <a class="badge badge-primary" href="/tags/survival-analysis">survival-analysis</a>
            
            <a class="badge badge-primary" href="/tags/visualization">visualization</a>
            
            <a class="badge badge-primary" href="/tags/web-crawling">web-crawling</a>
            
        </p>
        
    
</section>
    
</aside>

      </div>
    </div>
    

    
      <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
  </script>
    

    
    
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>
